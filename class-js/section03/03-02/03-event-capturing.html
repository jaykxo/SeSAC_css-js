<!DOCTYPE html>
<html lang="ko">
    <head>
        <title>이벤트캡처링 실습</title>
        <style>
            .사진 {
                width: 100px;
                height: 100px;
                background-color: skyblue;
                cursor: pointer;
            } 
        </style>
        <script>
            const 사진확대기능 = () => {
                document.getElementById("사진영역").style = "width: 100vw; height: 100vh"
            }

            const 좋아요기능 = (event) => {
                // event.preventDefault()
                event.stopPropagation() // 부모태그로 클릭이벤트가 전파(propagation)되는 것을 중단(stop)

                alert("좋아요가 +1 올랐습니다.")
            }

            const 로그인검사기능 = (event) => {
                event.stopPropagation() // 방향만 반대일 뿐, 전파를 막자!

                const 비밀번호 = prompt("로그인 후 이용해주세요.")
                if(비밀번호 === "1234") {
                    document.documentElement.removeEventListener("click", 로그인검사기능, { capture:  true})
                } else {
                    alert("비밀번호가 틀렸습니다. 다시 시도해주세요.")
                }
            }

            document.documentElement.addEventListener("click", 로그인검사기능, { capture:  true})
        </script>
    </head>
    <body>
        <div id="사진영역" class="사진" onclick="사진확대기능()">
            <button onclick="좋아요기능(event)">좋아요 +1</button>
        </div>
        <p>클릭하여 전체보기</p>
    </body>
</html>